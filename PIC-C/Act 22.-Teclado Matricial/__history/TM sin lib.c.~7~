//----------- MAIN LIBRARY ----------
      #include <18F452.h> 
//------- FUSES CONFIGURATION -------
#fuses NOWDT,HS,PUT,NOPROTECT,NOBROWNOUT,NOLVP,NOCPD
#use delay(clock=4MHz)

//---------- EXT LIBRARIES -----------
#include <lcd.c>
//----------- SET OUTPUTS -----------
//--Ports-
#byte Port_B = 0X0F81 
#byte Tris_B = 0x0F93
//--Var--
//--Inicio--

void main(){
         //Set Outputs
         Tris_B = 0xF0;//  Set TRISB as OUTPUT
         Port_B = 0X00; // Leds OFF 
         lcd_init();//initialize the lcd 
         port_b_pullups(true);
         
         while(true){
         Port_B=0x08; //1000 0000 turn up the Row1         
         switch(Port_B){
            case 0x77: //1000 1000
               printf(lcd_putc,"\f");
               printf(lcd_putc,"1");
               break;   
            case 0x84: //1000 0100
               printf(lcd_putc,"\f");
               printf(lcd_putc,"2");
               break;             
            case 0x82: //1000 0010      
               printf(lcd_putc,"\f");
               printf(lcd_putc,"3");
               break;  
            case 0x81: //1000 0001
               printf(lcd_putc,"\f");
               printf(lcd_putc,"A");
               break;
            }         
            
         Port_B=0x60; //0100 XXXX turn up the Row2
         switch(Port_B){
            case 0x48: //0100 1000 
               printf(lcd_putc,"\f");
               printf(lcd_putc,"4");
               break;
            case 0x44: //0100 0100
               printf(lcd_putc,"\f");
               printf(lcd_putc,"5");
               break;
            case 0x42: //0100 0010
               printf(lcd_putc,"\f");
               printf(lcd_putc,"6");
               break;
            case 0x41: //0100 0001
               printf(lcd_putc,"\f");
               printf(lcd_putc,"B");
               break;
            }
          Port_B=0x20; //1000 0000 turn up the Row3        
         switch(Port_B){
            case 0x28: //0010 1000
               printf(lcd_putc,"\f");
               printf(lcd_putc,"7");
               break;
            case 0x24: //0010 0100
               printf(lcd_putc,"\f");
               printf(lcd_putc,"8");
               break;
            case 0x22: //0010 0010
               printf(lcd_putc,"\f");
               printf(lcd_putc,"9");
               break;
            case 0x21: //0010 0001
               printf(lcd_putc,"\f");
               printf(lcd_putc,"C");
               break;
            }
         Port_B=0x10; //0100 XXXX turn up the Row4
         switch(Port_B){
            case 0x18: //0001 1000
               printf(lcd_putc,"\f");
               printf(lcd_putc,"*");
               break;
            case 0x14: //0001 0100
               printf(lcd_putc,"\f");
               printf(lcd_putc,"0");
               break;
            case 0x12: //0001 0010
               printf(lcd_putc,"\f");
               printf(lcd_putc,"#");
               break;
            case 0x11: //0001 0001
               printf(lcd_putc,"\f");
               printf(lcd_putc,"D");
               break;
            }   
         }//end while
         
}//end main
  
   
